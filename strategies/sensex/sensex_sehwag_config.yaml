# SENSEX Sehwag Strategy Configuration

# API Configuration
api:
  key: your_openalgo_api_key
  host: http://127.0.0.1:5000

# Strategy Param
strategy:
  underlying: "SENSEX"                    # SENSEX, adjust as needed
  underlying_exchange: "BSE_INDEX"
  option_exchange: "BFO"
  strike_diff: 100
  lot_size: 20                              # Verify actual lot size for Sensex options
  lot_multiplier: 1
  timezone: "Asia/Kolkata"

  test_mode: false                          # Start with test mode enabled for smoke runs
  allow_multiple_runs_per_day: true
  execution_mode: "parallel"

  wait_trade_threshold_pct: 2.0
  wait_trade_timeout_seconds: 300

  candle_interval: "3m"
  lookback_candles_minutes: 3

  breakout_diff_threshold: 90
  breakout_diff_delay_seconds: 120

  wait_trade_check_interval: 0.1
  monitor_check_interval: 0.1
  monitor_check_interval_no_ws: 0.5
  error_retry_interval: 1.0

# Strategy Scheduling
schedule:
  strategy_start_hour: 8
  strategy_start_minute: 14
  strategy_start_second: 0
  end_hour: 15
  end_minute: 00

legs:
  - name: "profit lock with trail"
    enabled: true
    entry_time: "09:15:10"
    exit_time: "11:30:00"
    strike_type: "ITM2"
    lot: 2

    initial_sl_pct: 7.0
    sl_trail_trigger_pct: null
    sl_trail_move_pct: null

    lock_trigger_pct: 6.0
    first_lock_pct: 2.0
    trail_trigger_pct: 2.0
    trail_move_pct: 1.0
    auto_close_profit_pct: "null"

    wait_trade_reset_enabled: true
    wait_trade_reset_drop_pct: 3

  - name: "profit lock with auto close"
    enabled: false
    entry_time: "09:15:10"
    exit_time: "11:30:00"
    strike_type: "ITM3"

    initial_sl_pct: 7.0
    sl_trail_trigger_pct: null
    sl_trail_move_pct: null

    lock_trigger_pct: 6.0
    first_lock_pct: 2.0
    trail_trigger_pct: 2.0
    trail_move_pct: 1.0
    auto_close_profit_pct: "12.0"

    wait_trade_reset_enabled: true
    wait_trade_reset_drop_pct: 3

  - name: "trailing sl only"
    enabled: false
    entry_time: "09:15:35"
    exit_time: "11:30:00"
    strike_type: "ITM3"
    initial_sl_pct: 7.0
    sl_trail_trigger_pct: 1.0
    sl_trail_move_pct: 1.0

    lock_trigger_pct: null
    first_lock_pct: null
    trail_trigger_pct: null
    trail_move_pct: null
    auto_close_profit_pct: null

    wait_trade_reset_enabled: true
    wait_trade_reset_drop_pct: 3

    breakout_diff_threshold: null
    breakout_diff_delay_seconds: 60

# Order Configuration
orders:
  auto_place_orders: true
  price_type: "MARKET"
  product: "NRML"
  entry_action: "BUY"
  exit_action: "SELL"

  place_sl_order: true
  sl_order_type: "SL"
  sl_limit_buffer_percent: 0.015
  sl_use_percent_buffer: true

# Logging Configuration
logging:
  print_quotes_immediately: true
  print_candle_data: true
  print_position_updates: true

# WebSocket Configuration (Real-time LTP)
websocket:
  enabled: true
  url: "ws://127.0.0.1:8765"
  timeout_seconds: 10
  reconnect_interval_seconds: 5

# NOTE: Verify `underlying_exchange`, `option_exchange`, and `lot_size` with your broker/platform

